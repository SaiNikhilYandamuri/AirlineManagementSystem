{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nikhi\\\\OneDrive\\\\Desktop\\\\Projects\\\\team-project-muskeers\\\\client\\\\src\\\\Components\\\\ListBookings\\\\ListBookings.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { ListGroup, Button, Row, Col } from \"react-bootstrap\";\nimport Axios from \"axios\";\nimport endPointObj from \"../../endPointObj\";\nimport \"./ListBookings.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListBookings = () => {\n  _s();\n\n  const [flights, setFlights] = useState([]);\n\n  const getFlights = () => {\n    var userId = localStorage.getItem(\"userId\");\n    return new Promise((resolve, reject) => {\n      Axios.post(endPointObj.url + \"userBookings\", {\n        userId\n      }).then(response => {\n        resolve(response.data);\n        setFlights(response.data.result);\n      }).catch(e => {});\n    });\n  };\n\n  const cancelBooking = (bookingId, flightId, flightDate, bookingDate, price) => {\n    console.log(bookingId, flightId, userId, flightDate, bookingDate, price);\n    var userId = localStorage.getItem(\"userId\");\n    Axios.post(endPointObj.url + \"cancelBooking\", {\n      bookingId,\n      flightId,\n      userId,\n      flightDate,\n      bookingDate,\n      price\n    }).then(response => {\n      console.log(\"cancelled booking\");\n      getFlights();\n    }).catch(e => {});\n  };\n\n  useEffect(() => {\n    getFlights().then(data => {// do nothin\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: flights.map(a => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        value: a.flight_id,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 11,\n            children: [\"bookingDate: \", a.booking_date.substring(0, 10), \" \\xA0 flightDate: \", a.flight_date.substring(0, 10)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 1,\n            children: [a.status == \"1\" && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              onClick: () => cancelBooking(a.booking_id, a.flight_id, a.flight_date, a.booking_date, a.price),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 37\n            }, this), a.status == \"0\" && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              disabled: true,\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, a.flight_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListBookings, \"YkaBEB7rvMCgao95TwXfNB7bv6I=\");\n\n_c = ListBookings;\nexport default ListBookings;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListBookings\");","map":{"version":3,"sources":["C:/Users/nikhi/OneDrive/Desktop/Projects/team-project-muskeers/client/src/Components/ListBookings/ListBookings.js"],"names":["React","useEffect","useState","ListGroup","Button","Row","Col","Axios","endPointObj","ListBookings","flights","setFlights","getFlights","userId","localStorage","getItem","Promise","resolve","reject","post","url","then","response","data","result","catch","e","cancelBooking","bookingId","flightId","flightDate","bookingDate","price","console","log","map","a","flight_id","booking_date","substring","flight_date","status","booking_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,GAA5B,EAAiCC,GAAjC,QAA4C,iBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAO,oBAAP;;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACzB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMU,UAAU,GAAG,MAAM;AACvB,QAAIC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAb;AACA,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCX,MAAAA,KAAK,CAACY,IAAN,CAAWX,WAAW,CAACY,GAAZ,GAAkB,cAA7B,EAA6C;AAAEP,QAAAA;AAAF,OAA7C,EACGQ,IADH,CACSC,QAAD,IAAc;AAClBL,QAAAA,OAAO,CAACK,QAAQ,CAACC,IAAV,CAAP;AACAZ,QAAAA,UAAU,CAACW,QAAQ,CAACC,IAAT,CAAcC,MAAf,CAAV;AACD,OAJH,EAKGC,KALH,CAKUC,CAAD,IAAO,CAAE,CALlB;AAMD,KAPM,CAAP;AAQD,GAVD;;AAYA,QAAMC,aAAa,GAAG,CAACC,SAAD,EAAYC,QAAZ,EAAsBC,UAAtB,EAAkCC,WAAlC,EAA+CC,KAA/C,KAAyD;AAC7EC,IAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ,EAAuBC,QAAvB,EAAiChB,MAAjC,EAAyCiB,UAAzC,EAAqDC,WAArD,EAAkEC,KAAlE;AACA,QAAInB,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAb;AACAR,IAAAA,KAAK,CAACY,IAAN,CAAWX,WAAW,CAACY,GAAZ,GAAkB,eAA7B,EAA8C;AAAEQ,MAAAA,SAAF;AAAaC,MAAAA,QAAb;AAAuBhB,MAAAA,MAAvB;AAA+BiB,MAAAA,UAA/B;AAA2CC,MAAAA,WAA3C;AAAwDC,MAAAA;AAAxD,KAA9C,EACGX,IADH,CACSC,QAAD,IAAc;AAClBW,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAtB,MAAAA,UAAU;AACX,KAJH,EAKGa,KALH,CAKUC,CAAD,IAAO,CAAE,CALlB;AAMD,GATD;;AAWAzB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,UAAU,GAAGS,IAAb,CAAmBE,IAAD,IAAU,CAC1B;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAMA,sBACE;AAAA,2BACE,QAAC,SAAD;AAAA,gBAEGb,OAAO,CAACyB,GAAR,CAAaC,CAAD,iBACX,QAAC,SAAD,CAAW,IAAX;AAAkC,QAAA,KAAK,EAAEA,CAAC,CAACC,SAA3C;AAAA,+BACE,QAAC,GAAD;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,EAAT;AAAA,wCACgBD,CAAC,CAACE,YAAF,CAAeC,SAAf,CAAyB,CAAzB,EAA4B,EAA5B,CADhB,wBAEeH,CAAC,CAACI,WAAF,CAAcD,SAAd,CAAwB,CAAxB,EAA2B,EAA3B,CAFf;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAKE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,CAAT;AAAA,uBACGH,CAAC,CAACK,MAAF,IAAY,GAAZ,iBAAmB,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,QAAhB;AAAyB,cAAA,OAAO,EAAE,MAAId,aAAa,CAACS,CAAC,CAACM,UAAH,EAAeN,CAAC,CAACC,SAAjB,EAA4BD,CAAC,CAACI,WAA9B,EAA2CJ,CAAC,CAACE,YAA7C,EAA2DF,CAAC,CAACJ,KAA7D,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADtB,EAEGI,CAAC,CAACK,MAAF,IAAY,GAAZ,iBAAmB,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,WAAhB;AAA4B,cAAA,QAAQ,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFtB;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,SAAqBL,CAAC,CAACC,SAAvB;AAAA;AAAA;AAAA;AAAA,cADD;AAFH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD,CArDD;;GAAM5B,Y;;KAAAA,Y;AAuDN,eAAeA,YAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { ListGroup, Button, Row, Col } from \"react-bootstrap\";\r\nimport Axios from \"axios\";\r\nimport endPointObj from \"../../endPointObj\";\r\nimport \"./ListBookings.css\"\r\n\r\nconst ListBookings = () => {\r\n  const [flights, setFlights] = useState([]);\r\n\r\n  const getFlights = () => {\r\n    var userId = localStorage.getItem(\"userId\");\r\n    return new Promise((resolve, reject) => {\r\n      Axios.post(endPointObj.url + \"userBookings\", { userId })\r\n        .then((response) => {\r\n          resolve(response.data);\r\n          setFlights(response.data.result);\r\n        })\r\n        .catch((e) => {});\r\n    });\r\n  };\r\n\r\n  const cancelBooking = (bookingId, flightId, flightDate, bookingDate, price) => {\r\n    console.log(bookingId, flightId, userId, flightDate, bookingDate, price)\r\n    var userId = localStorage.getItem(\"userId\");\r\n    Axios.post(endPointObj.url + \"cancelBooking\", { bookingId, flightId, userId, flightDate, bookingDate, price })\r\n      .then((response) => {\r\n        console.log(\"cancelled booking\");\r\n        getFlights();\r\n      })\r\n      .catch((e) => {});\r\n  };\r\n\r\n  useEffect(() => {\r\n    getFlights().then((data) => {\r\n      // do nothin\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <ListGroup>\r\n\r\n        {flights.map((a) => (\r\n          <ListGroup.Item key={a.flight_id} value={a.flight_id}>\r\n            <Row>\r\n              <Col xs={11}>\r\n                bookingDate: {a.booking_date.substring(0, 10)} &nbsp;\r\n                flightDate: {a.flight_date.substring(0, 10)}\r\n              </Col>\r\n              <Col xs={1}>\r\n                {a.status == \"1\" && <Button variant=\"danger\" onClick={()=>cancelBooking(a.booking_id, a.flight_id, a.flight_date, a.booking_date, a.price)}>Cancel</Button>}\r\n                {a.status == \"0\" && <Button variant=\"secondary\" disabled>Cancelled</Button>}              \r\n              </Col>\r\n            </Row>\r\n          </ListGroup.Item>\r\n        ))}\r\n      </ListGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListBookings;\r\n"]},"metadata":{},"sourceType":"module"}