{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nikhi\\\\OneDrive\\\\Desktop\\\\Projects\\\\team-project-muskeers\\\\client\\\\src\\\\Components\\\\UserProfile\\\\UserProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Col, Row, Button, Form, Alert } from \"react-bootstrap\";\nimport \"./MyAccount.css\";\nimport endPointObj from \"../../endPointObj\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from \"@material-ui/core/TextField\";\nimport mainLogo from \"../resources/flight2.png\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardContent from \"@material-ui/core/CardContent\"; //<link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\" rel=\"stylesheet\" media=\"screen\" />\n//import { useDispatch, useSelector } from \"react-redux\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserProfile(props) {\n  _s();\n\n  const useStyles = makeStyles({\n    root: {\n      minWidth: 30\n    },\n    bullet: {\n      display: \"inline-block\",\n      transform: \"scale(0.8)\"\n    },\n    title: {\n      fontSize: 14,\n      backgroundColor: \"#0079D3\",\n      height: \"6vh\",\n      color: \"white\",\n      textAlign: \"center\",\n      paddingTop: \"7px\"\n    },\n    pos: {\n      marginBottom: 12\n    }\n  });\n  const useStylesDropDown = makeStyles(theme => ({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2)\n    }\n  }));\n  const useStylesForm = makeStyles(theme => ({\n    root: {\n      \"& > *\": {\n        margin: theme.spacing(1),\n        width: \"32vw\"\n      }\n    }\n  })); // const useStyles = makeStyles((theme) => ({\n  //   root: {\n  //     flexGrow: 1,\n  //   },\n  // }));\n\n  const useStylesProfile = makeStyles(theme => ({\n    root: {\n      display: \"flex\",\n      \"& > *\": {\n        margin: theme.spacing(1)\n      }\n    },\n    small: {\n      width: theme.spacing(3),\n      height: theme.spacing(3)\n    },\n    large: {\n      width: theme.spacing(25),\n      height: theme.spacing(25)\n    }\n  })); //const email = useSelector((state) => state.login.username);\n\n  const [name, setName] = useState(\"\");\n  const [flyingcredit, setflyingcredit] = useState(\"\"); //const [email, setEmail] = useState(\"\");\n\n  const classes = useStyles();\n  const profileClasses = useStylesProfile();\n  const formStyles = useStylesForm();\n  const [address, setAddress] = React.useState(\"\");\n  const [phone, setPhone] = React.useState(\"\");\n  const [url, setURL] = React.useState(mainLogo);\n  const [alert, setAlert] = useState(\"\");\n  const history = useHistory();\n\n  const changeNameHandler = e => {\n    setName(e.target.value);\n  };\n\n  const addressChangeHandler = e => {\n    setAddress(e.target.value);\n  };\n\n  const changePhoneHandler = e => {\n    setAddress(e.target.value);\n  };\n\n  const getAccountDetails = () => {\n    return new Promise((resolve, reject) => {\n      var email = localStorage.getItem('email_current');\n      console.log(email);\n      Axios.post(endPointObj.url + \"getProfile\", {\n        email\n      }).then(response => {\n        resolve(response);\n      });\n    });\n  }; // const updateAccountDetails = (email, name, gender, address, phone, file) => {\n  //   return new Promise((resolve, reject) => {\n  //     Axios.post(\n  //       endPointObj.url + \"api/updateProfile\",\n  //       {\n  //         email,\n  //         name,\n  //         gender,\n  //         address,\n  //         phone,\n  //         file,\n  //       },\n  //       {\n  //         headers: {\n  //           Authorization: \"jwt \" + sessionStorage.getItem(\"token\"),\n  //         },\n  //       }\n  //     ).then((response) => {\n  //       getAccountDetails().then((result) => {\n  //         setEmail(result.data.email);\n  //         setURL(result.data[0].profile_picture);\n  //         setName(result.data[0].name);\n  //         setAddress(result.data[0].address);\n  //         setGender(result.data[0].gender);\n  //         setPhone(result.data[0].phone);\n  //       });\n  //       if (file) {\n  //         //   fileUpload(file);\n  //       }\n  //       resolve(response);\n  //     });\n  //   });\n  // };\n  // function fileChangehandler(event) {\n  //   console.log(event.target.files[0]);\n  //   setFile(event.target.files[0]);\n  //   setURL(URL.createObjectURL(event.target.files[0]));\n  // }\n  // function fileUpload(file) {\n  //   const data = new FormData();\n  //   data.append(\"name\", \"file_name.jpg\");\n  //   console.log(file);\n  //   data.append(\"file\", file);\n  //   console.log(data.file);\n  // //   //Axios.post(endPointObj.url + \"api/uploadImage/\" + email, data)\n  // //     .then((res) => {})\n  // //     .catch((err) => {\n  // //       getAccountDetails().then((result) => {\n  // //         setEmail(result.data.email);\n  // //         setURL(result.data[0].profile_picture);\n  // //         setName(result.data[0].name);\n  // //         setAddress(result.data[0].address);\n  // //         setGender(result.data[0].gender);\n  // //         setPhone(result.data[0].description);\n  // //       });\n  // //       console.log(err);\n  // //     });\n  // // }\n\n\n  useEffect(() => {\n    getAccountDetails().then(result => {\n      //setEmail(result.data.user_email);\n      // if (result.data[0].profile_picture) {\n      //   setURL(result.data[0].profile_picture);\n      // }\n      console.log(result);\n      setName(result.data.name);\n      setAddress(result.data.address);\n      setflyingcredit(result.data.flyingCredits);\n      setPhone(result.data.phone);\n    }); // };\n  }, []); // const updateProfile = (email, name, gender, address, phone, file) => {\n  //   updateAccountDetails(email, name, gender, address, phone, file);\n  // };\n  // const registerUser = (e) => {\n  //     let role = \"admin\"\n  //     console.log(name, email, password);\n  //     const redirect = () => {\n  //         history.push({\n  //             pathname: '/adminDash',\n  //         });\n  //     };\n  //     e.preventDefault();\n  //     return new Promise((resolve, reject) => {\n  //         console.log(name, email, password);\n  //         Axios.post(endPointObj.url + 'signup', { name, email, password, role }).then((response) => {\n  //             resolve(response);\n  //             if(role === 'admin'){\n  //                 redirect();\n  //             }\n  //         }).catch((e) => {\n  //             if (e.response && e.response.data) {\n  //                 console.log(e.response.data.message);\n  //                 setAlert(e.response.data.message);\n  //             }\n  //         })\n  //     })\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"myaccount-bg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 0,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"myaccount-parent\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"myaccount-blue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"myaccount-white\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"myaccount-form-div\",\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 0,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      className: formStyles.root,\n                      noValidate: true,\n                      autoComplete: \"off\",\n                      children: /*#__PURE__*/_jsxDEV(TextField, {\n                        id: \"standard-basic\",\n                        label: \"Name\",\n                        value: name,\n                        onChange: e => changeNameHandler(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      className: formStyles.root,\n                      noValidate: true,\n                      autoComplete: \"off\",\n                      onChange: e => {\n                        addressChangeHandler(e);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(TextField, {\n                        value: address,\n                        id: \"standard-basic\",\n                        label: \"Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      className: formStyles.root,\n                      noValidate: true,\n                      autoComplete: \"off\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      className: formStyles.root,\n                      noValidate: true,\n                      autoComplete: \"off\",\n                      children: /*#__PURE__*/_jsxDEV(TextField, {\n                        value: phone,\n                        id: \"standard-basic\",\n                        label: \"Phone\",\n                        onChange: e => changePhoneHandler(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 301,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    className: \"upload-button\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-image\",\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                variant: \"square\",\n                alt: \"Remy Sharp\",\n                className: profileClasses.large,\n                src: url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-image2\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: classes.root,\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  className: \"about-comm-card\",\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    className: classes.title,\n                    color: \"textSecondary\",\n                    gutterBottom: true,\n                    children: \"Flying credits:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-12 description\",\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: [\"Flying:\", flyingcredit]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 378,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserProfile, \"PxMUrXqwv4ZtKv0aGUSS56X5keY=\", false, function () {\n  return [useStyles, useStylesProfile, useStylesForm, useHistory];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"sources":["C:/Users/nikhi/OneDrive/Desktop/Projects/team-project-muskeers/client/src/Components/UserProfile/UserProfile.js"],"names":["React","useEffect","useState","Col","Row","Button","Form","Alert","endPointObj","Axios","useHistory","Avatar","TextField","mainLogo","InputLabel","MenuItem","FormHelperText","FormControl","Select","makeStyles","Grid","Card","Typography","CardContent","UserProfile","props","useStyles","root","minWidth","bullet","display","transform","title","fontSize","backgroundColor","height","color","textAlign","paddingTop","pos","marginBottom","useStylesDropDown","theme","formControl","margin","spacing","selectEmpty","marginTop","useStylesForm","width","useStylesProfile","small","large","name","setName","flyingcredit","setflyingcredit","classes","profileClasses","formStyles","address","setAddress","phone","setPhone","url","setURL","alert","setAlert","history","changeNameHandler","e","target","value","addressChangeHandler","changePhoneHandler","getAccountDetails","Promise","resolve","reject","email","localStorage","getItem","console","log","post","then","response","result","data","flyingCredits"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,EAA2BC,IAA3B,EAAiCC,KAAjC,QAA8C,iBAA9C;AACA,OAAO,iBAAP;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB,C,CAEA;AAEA;;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAE1B,QAAMC,SAAS,GAAGP,UAAU,CAAC;AAC3BQ,IAAAA,IAAI,EAAE;AACJC,MAAAA,QAAQ,EAAE;AADN,KADqB;AAI3BC,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAE,cADH;AAGNC,MAAAA,SAAS,EAAE;AAHL,KAJmB;AAS3BC,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,EADL;AAELC,MAAAA,eAAe,EAAE,SAFZ;AAGLC,MAAAA,MAAM,EAAE,KAHH;AAILC,MAAAA,KAAK,EAAE,OAJF;AAKLC,MAAAA,SAAS,EAAE,QALN;AAMLC,MAAAA,UAAU,EAAE;AANP,KAToB;AAiB3BC,IAAAA,GAAG,EAAE;AACHC,MAAAA,YAAY,EAAE;AADX;AAjBsB,GAAD,CAA5B;AAsBA,QAAMC,iBAAiB,GAAGtB,UAAU,CAAEuB,KAAD,KAAY;AAC/CC,IAAAA,WAAW,EAAE;AACXC,MAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADG;AAEXjB,MAAAA,QAAQ,EAAE;AAFC,KADkC;AAK/CkB,IAAAA,WAAW,EAAE;AACXC,MAAAA,SAAS,EAAEL,KAAK,CAACG,OAAN,CAAc,CAAd;AADA;AALkC,GAAZ,CAAD,CAApC;AAUA,QAAMG,aAAa,GAAG7B,UAAU,CAAEuB,KAAD,KAAY;AAC3Cf,IAAAA,IAAI,EAAE;AACJ,eAAS;AACPiB,QAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADD;AAEPI,QAAAA,KAAK,EAAE;AAFA;AADL;AADqC,GAAZ,CAAD,CAAhC,CAlC0B,CA2C1B;AACA;AACA;AACA;AACA;;AAEA,QAAMC,gBAAgB,GAAG/B,UAAU,CAAEuB,KAAD,KAAY;AAC9Cf,IAAAA,IAAI,EAAE;AACJG,MAAAA,OAAO,EAAE,MADL;AAEJ,eAAS;AACPc,QAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AADD;AAFL,KADwC;AAO9CM,IAAAA,KAAK,EAAE;AACLF,MAAAA,KAAK,EAAEP,KAAK,CAACG,OAAN,CAAc,CAAd,CADF;AAELV,MAAAA,MAAM,EAAEO,KAAK,CAACG,OAAN,CAAc,CAAd;AAFH,KAPuC;AAW9CO,IAAAA,KAAK,EAAE;AACLH,MAAAA,KAAK,EAAEP,KAAK,CAACG,OAAN,CAAc,EAAd,CADF;AAELV,MAAAA,MAAM,EAAEO,KAAK,CAACG,OAAN,CAAc,EAAd;AAFH;AAXuC,GAAZ,CAAD,CAAnC,CAjD0B,CAiE1B;;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBpD,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACqD,YAAD,EAAeC,eAAf,IAAkCtD,QAAQ,CAAC,EAAD,CAAhD,CAnE0B,CAoE1B;;AACA,QAAMuD,OAAO,GAAG/B,SAAS,EAAzB;AACA,QAAMgC,cAAc,GAAGR,gBAAgB,EAAvC;AACA,QAAMS,UAAU,GAAGX,aAAa,EAAhC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwB7D,KAAK,CAACE,QAAN,CAAe,EAAf,CAA9B;AACA,QAAM,CAAC4D,KAAD,EAAQC,QAAR,IAAoB/D,KAAK,CAACE,QAAN,CAAe,EAAf,CAA1B;AACA,QAAM,CAAC8D,GAAD,EAAMC,MAAN,IAAgBjE,KAAK,CAACE,QAAN,CAAeW,QAAf,CAAtB;AAEA,QAAM,CAACqD,KAAD,EAAQC,QAAR,IAAoBjE,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMkE,OAAO,GAAG1D,UAAU,EAA1B;;AAGA,QAAM2D,iBAAiB,GAAIC,CAAD,IAAO;AAC/BhB,IAAAA,OAAO,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD,GAFD;;AAKA,QAAMC,oBAAoB,GAAIH,CAAD,IAAO;AAClCT,IAAAA,UAAU,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACD,GAFD;;AAIA,QAAME,kBAAkB,GAAIJ,CAAD,IAAO;AAChCT,IAAAA,UAAU,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACD,GAFD;;AAIA,QAAMG,iBAAiB,GAAG,MAAM;AAC9B,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAtE,MAAAA,KAAK,CAAC2E,IAAN,CACE5E,WAAW,CAACwD,GAAZ,GAAkB,YADpB,EAEE;AACGe,QAAAA;AADH,OAFF,EAKEM,IALF,CAKQC,QAAD,IAAc;AACnBT,QAAAA,OAAO,CAACS,QAAD,CAAP;AACD,OAPD;AAQD,KAXM,CAAP;AAYD,GAbD,CA9F0B,CA4G1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AACArF,EAAAA,SAAS,CAAC,MAAM;AACd0E,IAAAA,iBAAiB,GAAGU,IAApB,CAA0BE,MAAD,IAAY;AACnC;AACA;AACA;AACA;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;AACAjC,MAAAA,OAAO,CAACiC,MAAM,CAACC,IAAP,CAAYnC,IAAb,CAAP;AACAQ,MAAAA,UAAU,CAAC0B,MAAM,CAACC,IAAP,CAAY5B,OAAb,CAAV;AACAJ,MAAAA,eAAe,CAAC+B,MAAM,CAACC,IAAP,CAAYC,aAAb,CAAf;AACA1B,MAAAA,QAAQ,CAACwB,MAAM,CAACC,IAAP,CAAY1B,KAAb,CAAR;AACD,KAVD,EADc,CAad;AACD,GAdQ,EAcN,EAdM,CAAT,CA7K0B,CA6L1B;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,2BACE;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,EAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,oBAAf;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,SAAS,MAAf;AAAgB,kBAAA,OAAO,EAAE,CAAzB;AAAA,0CACE,QAAC,IAAD;AAAM,oBAAA,IAAI,MAAV;AAAW,oBAAA,EAAE,EAAE,CAAf;AAAA,2CACE;AACE,sBAAA,SAAS,EAAEH,UAAU,CAAChC,IADxB;AAEE,sBAAA,UAAU,MAFZ;AAGE,sBAAA,YAAY,EAAC,KAHf;AAAA,6CAKE,QAAC,SAAD;AACE,wBAAA,EAAE,EAAC,gBADL;AAEE,wBAAA,KAAK,EAAC,MAFR;AAGE,wBAAA,KAAK,EAAE0B,IAHT;AAIE,wBAAA,QAAQ,EAAGiB,CAAD,IAAOD,iBAAiB,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV;AAJpC;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAeE,QAAC,IAAD;AAAM,oBAAA,IAAI,MAAV;AAAW,oBAAA,EAAE,EAAE,CAAf;AAAA,2CACE;AACE,sBAAA,SAAS,EAAEb,UAAU,CAAChC,IADxB;AAEE,sBAAA,UAAU,MAFZ;AAGE,sBAAA,YAAY,EAAC,KAHf;AAIE,sBAAA,QAAQ,EAAG2C,CAAD,IAAO;AACfG,wBAAAA,oBAAoB,CAACH,CAAD,CAApB;AACD,uBANH;AAAA,6CAQE,QAAC,SAAD;AACE,wBAAA,KAAK,EAAEV,OADT;AAEE,wBAAA,EAAE,EAAC,gBAFL;AAGE,wBAAA,KAAK,EAAC;AAHR;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAfF,eA+BE,QAAC,IAAD;AAAM,oBAAA,IAAI,MAAV;AAAW,oBAAA,EAAE,EAAE,CAAf;AAAA,2CACE;AACE,sBAAA,SAAS,EAAED,UAAU,CAAChC,IADxB;AAEE,sBAAA,UAAU,MAFZ;AAGE,sBAAA,YAAY,EAAC;AAHf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BA/BF,eAsCE,QAAC,IAAD;AAAM,oBAAA,IAAI,MAAV;AAAW,oBAAA,EAAE,EAAE,CAAf;AAAA,2CACE;AACE,sBAAA,SAAS,EAAEgC,UAAU,CAAChC,IADxB;AAEE,sBAAA,UAAU,MAFZ;AAGE,sBAAA,YAAY,EAAC,KAHf;AAAA,6CAKE,QAAC,SAAD;AACE,wBAAA,KAAK,EAAEmC,KADT;AAEE,wBAAA,EAAE,EAAC,gBAFL;AAGE,wBAAA,KAAK,EAAC,OAHR;AAIE,wBAAA,QAAQ,EAAGQ,CAAD,IAAOI,kBAAkB,CAACJ,CAAD;AAJrC;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAtCF,eAkEE,QAAC,IAAD;AAAM,oBAAA,IAAI,MAAV;AAAW,oBAAA,EAAE,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,0BAlEF,eAmEE,QAAC,IAAD;AAAM,oBAAA,IAAI,MAAV;AAAW,oBAAA,EAAE,EAAE,CAAf;AAAkB,oBAAA,SAAS,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,0BAnEF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAFF,eA4FE;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,qCACE,QAAC,MAAD;AACE,gBAAA,OAAO,EAAC,QADV;AAEE,gBAAA,GAAG,EAAC,YAFN;AAGE,gBAAA,SAAS,EAAEZ,cAAc,CAACN,KAH5B;AAIE,gBAAA,GAAG,EAAEY;AAJP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA5FF,eAgHE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACE,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAEP,OAAO,CAAC9B,IAAzB;AAAA,uCACE,QAAC,WAAD;AAAa,kBAAA,SAAS,EAAC,iBAAvB;AAAA,0CACE,QAAC,UAAD;AACE,oBAAA,SAAS,EAAE8B,OAAO,CAACzB,KADrB;AAEE,oBAAA,KAAK,EAAC,eAFR;AAGE,oBAAA,YAAY,MAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAQE;AAAK,oBAAA,SAAS,EAAC,KAAf;AAAA,2CACE;AAAK,sBAAA,SAAS,EAAC,uBAAf;AAAA,8CACE;AAAA,8CAAWuB,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAA;AAAA;AAAA;AAAA,8BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAhHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA8ID;;GA7WQ/B,W;UAqESE,S,EACOwB,gB,EACJF,a,EAOHtC,U;;;KA9ETc,W;AA+WT,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Col, Row, Button, Form, Alert } from \"react-bootstrap\";\r\nimport \"./MyAccount.css\";\r\nimport endPointObj from \"../../endPointObj\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport mainLogo from \"../resources/flight2.png\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\n//<link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\" rel=\"stylesheet\" media=\"screen\" />\r\n\r\n//import { useDispatch, useSelector } from \"react-redux\";\r\n\r\nfunction UserProfile(props) {\r\n  \r\n  const useStyles = makeStyles({\r\n    root: {\r\n      minWidth: 30,\r\n    },\r\n    bullet: {\r\n      display: \"inline-block\",\r\n\r\n      transform: \"scale(0.8)\",\r\n    },\r\n    title: {\r\n      fontSize: 14,\r\n      backgroundColor: \"#0079D3\",\r\n      height: \"6vh\",\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      paddingTop: \"7px\",\r\n    },\r\n    pos: {\r\n      marginBottom: 12,\r\n    },\r\n  });\r\n\r\n  const useStylesDropDown = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n  const useStylesForm = makeStyles((theme) => ({\r\n    root: {\r\n      \"& > *\": {\r\n        margin: theme.spacing(1),\r\n        width: \"32vw\",\r\n      },\r\n    },\r\n  }));\r\n\r\n  // const useStyles = makeStyles((theme) => ({\r\n  //   root: {\r\n  //     flexGrow: 1,\r\n  //   },\r\n  // }));\r\n\r\n  const useStylesProfile = makeStyles((theme) => ({\r\n    root: {\r\n      display: \"flex\",\r\n      \"& > *\": {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    small: {\r\n      width: theme.spacing(3),\r\n      height: theme.spacing(3),\r\n    },\r\n    large: {\r\n      width: theme.spacing(25),\r\n      height: theme.spacing(25),\r\n    },\r\n  }));\r\n  //const email = useSelector((state) => state.login.username);\r\n  const [name, setName] = useState(\"\");\r\n  const [flyingcredit, setflyingcredit] = useState(\"\");\r\n  //const [email, setEmail] = useState(\"\");\r\n  const classes = useStyles();\r\n  const profileClasses = useStylesProfile();\r\n  const formStyles = useStylesForm();\r\n  const [address, setAddress] = React.useState(\"\");\r\n  const [phone, setPhone] = React.useState(\"\");\r\n  const [url, setURL] = React.useState(mainLogo);\r\n\r\n  const [alert, setAlert] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n  \r\n\r\n  const changeNameHandler = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n \r\n  const addressChangeHandler = (e) => {\r\n    setAddress(e.target.value);\r\n  };\r\n\r\n  const changePhoneHandler = (e) => {\r\n    setAddress(e.target.value);\r\n  };\r\n  \r\n  const getAccountDetails = () => {\r\n    return new Promise((resolve, reject) => {\r\n      var email = localStorage.getItem('email_current');\r\n      console.log(email);\r\n      Axios.post(\r\n        endPointObj.url + \"getProfile\",\r\n        {\r\n           email,\r\n        }\r\n      ).then((response) => {\r\n        resolve(response);\r\n      });\r\n    });\r\n  };\r\n  // const updateAccountDetails = (email, name, gender, address, phone, file) => {\r\n  //   return new Promise((resolve, reject) => {\r\n  //     Axios.post(\r\n  //       endPointObj.url + \"api/updateProfile\",\r\n  //       {\r\n  //         email,\r\n  //         name,\r\n  //         gender,\r\n  //         address,\r\n  //         phone,\r\n  //         file,\r\n  //       },\r\n  //       {\r\n  //         headers: {\r\n  //           Authorization: \"jwt \" + sessionStorage.getItem(\"token\"),\r\n  //         },\r\n  //       }\r\n  //     ).then((response) => {\r\n  //       getAccountDetails().then((result) => {\r\n  //         setEmail(result.data.email);\r\n  //         setURL(result.data[0].profile_picture);\r\n  //         setName(result.data[0].name);\r\n  //         setAddress(result.data[0].address);\r\n  //         setGender(result.data[0].gender);\r\n  //         setPhone(result.data[0].phone);\r\n  //       });\r\n\r\n  //       if (file) {\r\n  //         //   fileUpload(file);\r\n  //       }\r\n\r\n  //       resolve(response);\r\n  //     });\r\n  //   });\r\n  // };\r\n\r\n  // function fileChangehandler(event) {\r\n  //   console.log(event.target.files[0]);\r\n  //   setFile(event.target.files[0]);\r\n  //   setURL(URL.createObjectURL(event.target.files[0]));\r\n  // }\r\n\r\n  // function fileUpload(file) {\r\n  //   const data = new FormData();\r\n  //   data.append(\"name\", \"file_name.jpg\");\r\n  //   console.log(file);\r\n  //   data.append(\"file\", file);\r\n  //   console.log(data.file);\r\n\r\n  // //   //Axios.post(endPointObj.url + \"api/uploadImage/\" + email, data)\r\n  // //     .then((res) => {})\r\n  // //     .catch((err) => {\r\n  // //       getAccountDetails().then((result) => {\r\n  // //         setEmail(result.data.email);\r\n  // //         setURL(result.data[0].profile_picture);\r\n\r\n  // //         setName(result.data[0].name);\r\n  // //         setAddress(result.data[0].address);\r\n  // //         setGender(result.data[0].gender);\r\n  // //         setPhone(result.data[0].description);\r\n  // //       });\r\n\r\n  // //       console.log(err);\r\n  // //     });\r\n  // // }\r\n  useEffect(() => {\r\n    getAccountDetails().then((result) => {\r\n      //setEmail(result.data.user_email);\r\n      // if (result.data[0].profile_picture) {\r\n      //   setURL(result.data[0].profile_picture);\r\n      // }\r\n      console.log(result);\r\n      setName(result.data.name);\r\n      setAddress(result.data.address);\r\n      setflyingcredit(result.data.flyingCredits);\r\n      setPhone(result.data.phone);\r\n    });\r\n\r\n    // };\r\n  }, []);\r\n\r\n  // const updateProfile = (email, name, gender, address, phone, file) => {\r\n  //   updateAccountDetails(email, name, gender, address, phone, file);\r\n  // };\r\n\r\n  // const registerUser = (e) => {\r\n  //     let role = \"admin\"\r\n  //     console.log(name, email, password);\r\n\r\n  //     const redirect = () => {\r\n  //         history.push({\r\n  //             pathname: '/adminDash',\r\n  //         });\r\n  //     };\r\n\r\n  //     e.preventDefault();\r\n  //     return new Promise((resolve, reject) => {\r\n  //         console.log(name, email, password);\r\n  //         Axios.post(endPointObj.url + 'signup', { name, email, password, role }).then((response) => {\r\n  //             resolve(response);\r\n\r\n  //             if(role === 'admin'){\r\n  //                 redirect();\r\n  //             }\r\n\r\n  //         }).catch((e) => {\r\n  //             if (e.response && e.response.data) {\r\n  //                 console.log(e.response.data.message);\r\n  //                 setAlert(e.response.data.message);\r\n  //             }\r\n\r\n  //         })\r\n  //     })\r\n  // }\r\n\r\n  return (\r\n    <div className=\"myaccount-bg\">\r\n      <div >\r\n        <Grid container spacing={0}>\r\n          <Grid item xs={12}>\r\n            <div className=\"myaccount-parent\">\r\n              <div className=\"myaccount-blue\"></div>\r\n              <div className=\"myaccount-white\">\r\n                <div className=\"myaccount-form-div\">\r\n                  <Grid container spacing={0}>\r\n                    <Grid item xs={6}>\r\n                      <form\r\n                        className={formStyles.root}\r\n                        noValidate\r\n                        autoComplete=\"off\"\r\n                      >\r\n                        <TextField\r\n                          id=\"standard-basic\"\r\n                          label=\"Name\"\r\n                          value={name}\r\n                          onChange={(e) => changeNameHandler(e.target.value)}\r\n                        />\r\n                      </form>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <form\r\n                        className={formStyles.root}\r\n                        noValidate\r\n                        autoComplete=\"off\"\r\n                        onChange={(e) => {\r\n                          addressChangeHandler(e);\r\n                        }}\r\n                      >\r\n                        <TextField\r\n                          value={address}\r\n                          id=\"standard-basic\"\r\n                          label=\"Address\"\r\n                        />\r\n                      </form>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <form\r\n                        className={formStyles.root}\r\n                        noValidate\r\n                        autoComplete=\"off\"\r\n                      ></form>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <form\r\n                        className={formStyles.root}\r\n                        noValidate\r\n                        autoComplete=\"off\"\r\n                      >\r\n                        <TextField\r\n                          value={phone}\r\n                          id=\"standard-basic\"\r\n                          label=\"Phone\"\r\n                          onChange={(e) => changePhoneHandler(e)}\r\n                        />\r\n                      </form>\r\n                    </Grid>\r\n                    {/* <Grid item xs={6}>\r\n                              <form\r\n                                className={formStyles.root}\r\n                                noValidate\r\n                                autoComplete=\"off\"\r\n                              >\r\n                                <TextField\r\n                                  id=\"standard-basic\"\r\n                                  label=\"topics\"\r\n                                  onChange={(e) => changeTopicsHandler(e)}\r\n                                />\r\n                              </form>\r\n                            </Grid> */}\r\n\r\n                    <Grid item xs={6}></Grid>\r\n                    <Grid item xs={6} className=\"upload-button\">\r\n                      {/* <Button\r\n                        variant=\"primary\"\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                          updateProfile(\r\n                            //             email,\r\n                            name,\r\n                            gender,\r\n                            address,\r\n                            phone,\r\n                            file\r\n                          );\r\n                        }}\r\n                      >\r\n                        Update Profile\r\n                      </Button> */}\r\n                    </Grid>\r\n                  </Grid>\r\n                </div>\r\n              </div>\r\n              <div className=\"profile-image\">\r\n                <Avatar\r\n                  variant=\"square\"\r\n                  alt=\"Remy Sharp\"\r\n                  className={profileClasses.large}\r\n                  src={url}\r\n                />\r\n                  {/* <div className=\"profile-edit-button\">\r\n                    <label for=\"file\">\r\n                      <i class=\"fas fa-pen-square fa-lg\" />\r\n                    </label>\r\n                    <input\r\n                      //className=\"hide-button\"\r\n                      type=\"file\"\r\n                      id=\"file\"\r\n                      accept=\".jpg\"\r\n                      onChange={(e) => fileChangehandler(e)}\r\n                    />\r\n                  </div> */}\r\n              </div>\r\n              <div className=\"profile-image2\">\r\n                <Card className={classes.root}>\r\n                  <CardContent className=\"about-comm-card\">\r\n                    <Typography\r\n                      className={classes.title}\r\n                      color=\"textSecondary\"\r\n                      gutterBottom\r\n                    >\r\n                      Flying credits:\r\n                    </Typography>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-sm-12 description\">\r\n                        <b>Flying:{flyingcredit}</b>\r\n                        <i></i>\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}