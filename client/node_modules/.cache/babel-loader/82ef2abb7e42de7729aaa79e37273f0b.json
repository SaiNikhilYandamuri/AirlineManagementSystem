{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nikhi\\\\OneDrive\\\\Desktop\\\\Projects\\\\team-project-muskeers\\\\client\\\\src\\\\Components\\\\FlightBook\\\\SearchForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\"; //import { Typeahead } from \"react-bootstrap-typeahead\";\n\nimport Axios from \"axios\";\nimport endPointObj from \"../../endPointObj\";\nimport \"./search-form.css\"; // import { connect } from 'react-redux';\n// import './search-form.css';\n// import 'react-bootstrap-typeahead/css/Typeahead.css';\n// import { findFlights } from './../../actions';\n\nimport { CountryDropdown, RegionDropdown, CountryRegionData } from \"react-country-region-selector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst isDate = date => {\n  return new Date(date) !== \"Invalid Date\" && !isNaN(new Date(date));\n};\n\nconst ErrorLabel = props => {\n  return /*#__PURE__*/_jsxDEV(\"label\", {\n    style: {\n      color: \"red\"\n    },\n    children: props.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 10\n  }, this);\n};\n\n_c = ErrorLabel;\nexport const SearchForm = props => {\n  _s();\n\n  //let origin, destination;\n  const [isReturn, setFlightType] = useState(false);\n  const [status, setFormValid] = useState({\n    isValid: false\n  });\n  const [country, setCountry] = useState(\"\");\n  const [source, setRegionorg] = useState(\"\");\n  const [destination, setRegiondes] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n  const [alert, setAlert] = useState('');\n  const [flightArr, setFlightArr] = useState([]);\n  const [noofpassengers, setnoofpassengers] = useState(''); //const [destination, setRegiondes] = useState('');\n\n  let invalidFields = {}; //const isReturn = true;\n\n  const handleSubmit = (source, destination, startDate) => {\n    //event.preventDefault();\n    // const { flights } = props;\n    // invalidFields = {};\n    // // const criteria = {\n    // //  // origin: origin.state.text,\n    // //  // destination: destination.state.text,\n    // //  // departureDate: event.target.dateOfDep.value,\n    // //  // numOfPassengers: event.target.numOfPassengers.value,\n    // // };\n    sessionStorage.setItem('noofpassengers', noofpassengers); // if (event.target.flightType[1].checked) {\n    //   //criteria.returnDate = event.target.dateOfReturn.value;\n    //   if (!isDate(event.target.dateOfReturn.value)) {\n    //     invalidFields.returnDate = true;\n    //   }\n    // } else {\n    //   console.log(event.target.dateOfDep.value);\n    //   setStartDate(event.target.dateOfDep.value);\n    // }\n\n    console.log(source);\n    console.log(destination);\n    console.log(startDate); // if (!airports.includes(criteria.destination) || criteria.origin === criteria.destination) {\n    //   invalidFields.destination = true;\n    // }\n    // if (!isDate(criteria.departureDate)) {\n    //   invalidFields.departureDate = true;\n    // }\n    // if (!isDate(criteria.departureDate)) {\n    //   invalidFields.departureDate = true;\n    // }\n    // if (Object.keys(invalidFields).length > 0) {\n    //   setFormValid({ isValid: false, ...invalidFields });\n    //   return;\n    // }\n    // setFormValid({ isValid: true });\n    // props.findFlights({flights, criteria});\n\n    console.log(source);\n    Axios.post(endPointObj.url + \"flightDetails\", {\n      startDate,\n      source,\n      destination\n    }).then(response => {\n      console.log(response.data); //setFlightArr(response.data);\n\n      props.sendToParent(response.data); // const criteria = {\n      //   source: response.data.source,\n      //   destination: response.data.destination,\n      //   startDate: event.target.dateOfDep.value,\n      //   numOfPassengers: event.target.numOfPassengers.value,\n      //   flight_id: response.data.flight_id,\n      //  end_time: response.data.end_time,\n      //   availability: response.data.availability,\n      //     price: response.data.price,\n      //     status: response.data.status\n      //  };\n      //  sessionStorage.setItem(criteria);\n      //  props.sendToParent(criteria);\n    }).catch(e => {\n      if (e.response && e.response.data) {\n        console.log(e.response.data.message);\n        setAlert(e.response.data.message);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"cardbodyheight\",\n    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"search-form-container\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formGridOrigin\",\n          children: [/*#__PURE__*/_jsxDEV(RegionDropdown, {\n            country: \"United States\",\n            value: source,\n            defaultOptionLabel: \"Enter Origin\",\n            onChange: val => setRegionorg(val),\n            className: \"src-region\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), status.origin && /*#__PURE__*/_jsxDEV(ErrorLabel, {\n            message: \"Please enter a valid airport\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formGridDestination\",\n          children: [/*#__PURE__*/_jsxDEV(RegionDropdown, {\n            country: \"United States\",\n            value: destination,\n            className: \"dest-region\",\n            defaultOptionLabel: \"Enter Destination\",\n            onChange: val => setRegiondes(val)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), status.origin && /*#__PURE__*/_jsxDEV(ErrorLabel, {\n            message: \"Please enter a valid airport\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), status.destination && /*#__PURE__*/_jsxDEV(ErrorLabel, {\n            message: \"Please enter a valid airport but not same as origin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formGridDateOfDep\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"margin-fields\",\n            children: \"Departure Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"date\",\n            name: \"dateOfDep\",\n            placeholder: \"yyyy-mm-dd\",\n            selected: startDate,\n            onChange: e => {\n              console.log(e.target.value);\n              setStartDate(e.target.value);\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), status.departureDate && /*#__PURE__*/_jsxDEV(ErrorLabel, {\n            message: \"Please enter a valid departure date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), isReturn && /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formGridDateOfReturn\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Return Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"date\",\n            name: \"dateOfReturn\",\n            placeholder: \"yyyy-mm-dd\",\n            className: \"margin-fields\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), status.returnDate && /*#__PURE__*/_jsxDEV(ErrorLabel, {\n            message: \"Please enter a valid return date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"exampleForm.ControlSelect1\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            name: \"numOfPassengers\",\n            placeholder: \"Number of Passengers\",\n            className: \"margin-fields\",\n            onChange: e => setnoofpassengers(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Number of Passengers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          className: \"margin-fields\",\n          onClick: () => {\n            handleSubmit(source, destination, startDate);\n          },\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchForm, \"BhWb6BuRYOaUYrdGxM+tQcQH0PY=\");\n\n_c2 = SearchForm;\nexport default SearchForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ErrorLabel\");\n$RefreshReg$(_c2, \"SearchForm\");","map":{"version":3,"sources":["C:/Users/nikhi/OneDrive/Desktop/Projects/team-project-muskeers/client/src/Components/FlightBook/SearchForm.js"],"names":["React","useState","Form","Button","Card","Axios","endPointObj","CountryDropdown","RegionDropdown","CountryRegionData","isDate","date","Date","isNaN","ErrorLabel","props","color","message","SearchForm","isReturn","setFlightType","status","setFormValid","isValid","country","setCountry","source","setRegionorg","destination","setRegiondes","startDate","setStartDate","alert","setAlert","flightArr","setFlightArr","noofpassengers","setnoofpassengers","invalidFields","handleSubmit","sessionStorage","setItem","console","log","post","url","then","response","data","sendToParent","catch","e","val","origin","target","value","departureDate","returnDate"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n//import { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport Axios from \"axios\";\r\nimport endPointObj from \"../../endPointObj\";\r\nimport \"./search-form.css\"\r\n\r\n// import { connect } from 'react-redux';\r\n// import './search-form.css';\r\n// import 'react-bootstrap-typeahead/css/Typeahead.css';\r\n// import { findFlights } from './../../actions';\r\nimport {\r\n  CountryDropdown,\r\n  RegionDropdown,\r\n  CountryRegionData,\r\n} from \"react-country-region-selector\";\r\n\r\nconst isDate = (date) => {\r\n  return new Date(date) !== \"Invalid Date\" && !isNaN(new Date(date));\r\n};\r\n\r\nconst ErrorLabel = (props) => {\r\n  return <label style={{ color: \"red\" }}>{props.message}</label>;\r\n};\r\n\r\nexport const SearchForm = (props) => {\r\n  //let origin, destination;\r\n  const [isReturn, setFlightType] = useState(false);\r\n  const [status, setFormValid] = useState({ isValid: false });\r\n  const [country, setCountry] = useState(\"\");\r\n  const [source, setRegionorg] = useState(\"\");\r\n  const [destination, setRegiondes] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [alert, setAlert] = useState('');\r\n  const [flightArr, setFlightArr] = useState([]);\r\n  const [noofpassengers,setnoofpassengers] = useState('');\r\n  //const [destination, setRegiondes] = useState('');\r\n  let invalidFields = {};\r\n  //const isReturn = true;\r\n  const handleSubmit = (source, destination, startDate) => {\r\n    //event.preventDefault();\r\n    // const { flights } = props;\r\n    // invalidFields = {};\r\n    // // const criteria = {\r\n    // //  // origin: origin.state.text,\r\n    // //  // destination: destination.state.text,\r\n    // //  // departureDate: event.target.dateOfDep.value,\r\n    // //  // numOfPassengers: event.target.numOfPassengers.value,\r\n    // // };\r\n\r\n    sessionStorage.setItem('noofpassengers',noofpassengers);\r\n\r\n\r\n    // if (event.target.flightType[1].checked) {\r\n    //   //criteria.returnDate = event.target.dateOfReturn.value;\r\n    //   if (!isDate(event.target.dateOfReturn.value)) {\r\n    //     invalidFields.returnDate = true;\r\n    //   }\r\n    // } else {\r\n    //   console.log(event.target.dateOfDep.value);\r\n    //   setStartDate(event.target.dateOfDep.value);\r\n    // }\r\n     console.log(source);\r\n     console.log(destination);\r\n     console.log(startDate);\r\n     \r\n    // if (!airports.includes(criteria.destination) || criteria.origin === criteria.destination) {\r\n    //   invalidFields.destination = true;\r\n    // }\r\n    // if (!isDate(criteria.departureDate)) {\r\n    //   invalidFields.departureDate = true;\r\n    // }\r\n    // if (!isDate(criteria.departureDate)) {\r\n    //   invalidFields.departureDate = true;\r\n    // }\r\n    // if (Object.keys(invalidFields).length > 0) {\r\n    //   setFormValid({ isValid: false, ...invalidFields });\r\n    //   return;\r\n    // }\r\n\r\n    // setFormValid({ isValid: true });\r\n    // props.findFlights({flights, criteria});\r\n    \r\n    console.log(source);\r\n    Axios.post(endPointObj.url + \"flightDetails\", {\r\n      startDate,\r\n      source,\r\n      destination,\r\n      \r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        //setFlightArr(response.data);\r\n        props.sendToParent(response.data);\r\n\r\n       \r\n        // const criteria = {\r\n        //   source: response.data.source,\r\n        //   destination: response.data.destination,\r\n        //   startDate: event.target.dateOfDep.value,\r\n        //   numOfPassengers: event.target.numOfPassengers.value,\r\n        //   flight_id: response.data.flight_id,\r\n        //  end_time: response.data.end_time,\r\n        //   availability: response.data.availability,\r\n        //     price: response.data.price,\r\n        //     status: response.data.status\r\n        //  };\r\n        //  sessionStorage.setItem(criteria);\r\n        //  props.sendToParent(criteria);\r\n        \r\n      })\r\n      .catch((e) => {\r\n        if (e.response && e.response.data) {\r\n          console.log(e.response.data.message);\r\n          setAlert(e.response.data.message);\r\n        }\r\n      });\r\n  };\r\n\r\n\r\n  return (\r\n    <Card className =\"cardbodyheight\">\r\n      <Card.Body >\r\n        <Form className=\"search-form-container\">\r\n          <Form.Group>\r\n            {/*<Form.Check\r\n              inline\r\n              checked={!isReturn}\r\n              type=\"radio\"\r\n              label=\"One way\"\r\n              name=\"flightType\"\r\n              id=\"formHorizontalRadios1\"\r\n              onChange={(e) => setFlightType(false)}\r\n            />\r\n            <Form.Check\r\n              inline\r\n              checked={isReturn}\r\n              type=\"radio\"\r\n              label=\"Return\"\r\n              name=\"flightType\"\r\n              id=\"formHorizontalRadios2\"\r\n              onChange={(e) => setFlightType(true)}\r\n            />*/}\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formGridOrigin\">\r\n            {/* <Typeahead\r\n            labelKey=\"origin\"\r\n            options={airports}\r\n            placeholder=\"Enter Origin\"\r\n            ref={(ref) => origin = ref}\r\n          /> */}\r\n            <RegionDropdown\r\n              country=\"United States\"\r\n              value={source}\r\n              defaultOptionLabel=\"Enter Origin\"\r\n              onChange={(val) => setRegionorg(val)}\r\n              className=\"src-region\"\r\n            />\r\n            {status.origin && (\r\n              <ErrorLabel message=\"Please enter a valid airport\"></ErrorLabel>\r\n            )}\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formGridDestination\">\r\n            {/* <Typeahead\r\n            labelKey=\"destination\"\r\n            options={airports}\r\n            placeholder=\"Enter Destination\"\r\n            ref={(ref) => destination = ref}\r\n          /> */}\r\n            <RegionDropdown\r\n              country=\"United States\"\r\n              value={destination}\r\n              className=\"dest-region\"\r\n              defaultOptionLabel=\"Enter Destination\"\r\n               onChange={(val) => setRegiondes(val)}\r\n            />\r\n            {status.origin && (\r\n              <ErrorLabel message=\"Please enter a valid airport\"></ErrorLabel>\r\n            )}\r\n            {status.destination && (\r\n              <ErrorLabel message=\"Please enter a valid airport but not same as origin\"></ErrorLabel>\r\n            )}\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formGridDateOfDep\">\r\n            <Form.Label className=\"margin-fields\">Departure Date</Form.Label>\r\n            <Form.Control\r\n              type=\"date\"\r\n              name=\"dateOfDep\"\r\n              placeholder=\"yyyy-mm-dd\"\r\n              selected={startDate}\r\n              onChange={(e) => {console.log(e.target.value);setStartDate(e.target.value)}}\r\n              required\r\n            />\r\n            {status.departureDate && (\r\n              <ErrorLabel message=\"Please enter a valid departure date\"></ErrorLabel>\r\n            )}\r\n          </Form.Group>\r\n\r\n          {isReturn && (\r\n            <Form.Group controlId=\"formGridDateOfReturn\">\r\n              <Form.Label>Return Date</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                name=\"dateOfReturn\"\r\n                placeholder=\"yyyy-mm-dd\"\r\n                className=\"margin-fields\"\r\n                required\r\n              />\r\n              {status.returnDate && (\r\n                <ErrorLabel message=\"Please enter a valid return date\"></ErrorLabel>\r\n              )}\r\n            </Form.Group>\r\n          )}\r\n\r\n          <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n            <Form.Control\r\n              as=\"select\"\r\n              name=\"numOfPassengers\"\r\n              placeholder=\"Number of Passengers\"\r\n              className=\"margin-fields\"\r\n              onChange={(e) => setnoofpassengers(e.target.value)}\r\n            >\r\n              <option>Number of Passengers</option>\r\n              <option>1</option>\r\n              <option>2</option>\r\n              <option>3</option>\r\n              <option>4</option>\r\n              <option>5</option>\r\n            </Form.Control>\r\n\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary\" className=\"margin-fields\" onClick={()=>{handleSubmit(source, destination, startDate)}}>\r\n            Search\r\n          </Button>\r\n        </Form>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n"]},"metadata":{},"sourceType":"module"}